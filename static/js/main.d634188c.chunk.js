(this["webpackJsonpblog-react"]=this["webpackJsonpblog-react"]||[]).push([[0],{66:function(e,t,a){e.exports=a(79)},71:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),l=(a(71),a(20)),i=a(38),c=a(12),u=a(9),d=a(15),m=a(16),g=a(18),p=a(17),h=a(27),C=a(33);var b=function(e){return r.a.createElement(C.a,e,r.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))},f=a(4),v=a(111),E=a(112),x=a(114),O=a(115),I=a(113),N="Blog",j="Create Post",S="Log in",k="Log out",y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleCreatePostClick=function(e){var t=a.props,n=t.isLoggedIn,r=t.handleCreatePostClick;n||r(e)},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.isLoggedIn;return r.a.createElement(v.a,{position:"static"},r.a.createElement(E.a,{className:a.toolbar},r.a.createElement(p.b,{to:"/blog-react/",className:a.logo},r.a.createElement(I.a,{edge:"start",color:"inherit","aria-label":"blog",onClick:function(t){return e.handleCreatePostClick(!1,t)}},r.a.createElement(b,{fontSize:"large"}),r.a.createElement(x.a,{variant:"h4"},N))),r.a.createElement(p.b,{to:"/blog-react/create",className:a.createPostLink},r.a.createElement(O.a,{className:a.linkBtn,color:"inherit",size:"large",onClick:function(){return e.handleCreatePostClick(!0)}},j)),r.a.createElement(p.b,{to:"/blog-react/auth",className:a.authLink},n?r.a.createElement(O.a,{className:a.linkBtn,size:"large"},k):r.a.createElement(O.a,{className:a.linkBtn,size:"large",onClick:function(){return e.handleCreatePostClick(!1)}},S))))}}]),t}(r.a.Component),L=Object(f.a)({toolbar:{display:"flex",justifyContent:"flex-start"},logo:{color:"white",textDecoration:"none"},createPostLink:{marginLeft:"40px",textDecoration:"none"},authLink:{marginLeft:"auto",textDecoration:"none"},linkBtn:{color:"white"}})(y),P=a(120),w="Log in",A="* Username",T="* Password",U="Log In",B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onUsernameChange=function(e){a.setState({username:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.handleLogIn=function(){var e=a.state,t=e.username,n=e.password,r=a.props,o=r.isLoggedIn,s=r.history,l=r.isCreatePostClicked,i=r.handleCreatePostClick;if(t&&n){var c={username:t,password:n};a.setState({username:"",password:""},(function(){o(!0,c),l?(s.push("/blog-react/create"),i(!1)):s.push("/blog-react/")}))}},a.state={username:"",password:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=this.props.classes;return r.a.createElement("div",{className:o.loginContainer},r.a.createElement("div",{className:o.loginContent},r.a.createElement("div",{className:o.titleSection},r.a.createElement(x.a,{variant:"h4",className:o.title},w)),r.a.createElement("div",null,r.a.createElement("div",{className:o.usernameInput},r.a.createElement(P.a,{id:"standard-basic",label:A,fullWidth:!0,value:a,onChange:function(t){return e.onUsernameChange(t)}})),r.a.createElement("div",{className:o.passwordInput},r.a.createElement(P.a,{id:"standard-password-input",label:T,type:"password",autoComplete:"current-password",fullWidth:!0,value:n,onChange:function(t){return e.onPasswordChange(t)}})),r.a.createElement("div",{className:o.loginBtn},r.a.createElement(O.a,{variant:"contained",size:"large",color:"primary",fullWidth:!0,onClick:function(){return e.handleLogIn()}},U)))))}}]),t}(r.a.Component),D=Object(h.g)(Object(f.a)({loginContainer:{display:"flex",justifyContent:"center"},loginContent:{width:"50%"},titleSection:{marginTop:"20px"},title:{fontWeight:"bold"},usernameInput:{marginTop:"16px",marginBottom:"8px"},passwordInput:{marginTop:"16px",marginBottom:"8px"},loginBtn:{margin:"30px 0"}})(B)),J="There is no post on web-site.",W="Log in",z=" and be our first story teller.",M="share your story!",F="You've logged in, ";var Y=Object(f.a)({homeContainer:{display:"flex",justifyContent:"center"},homeContent:{width:"50%"},titleSection:{marginTop:"20px",textAlign:"center"},title:{fontWeight:"bold"},textSection:{marginTop:"40px",textAlign:"center"},text:{fontWeight:"bold"}})((function(e){var t=e.classes,a=e.isLoggedIn;return r.a.createElement("div",{className:t.homeContainer},r.a.createElement("div",{className:t.homeContent},r.a.createElement("div",{className:t.titleSection},r.a.createElement(x.a,{variant:"h5",className:t.title},J)),r.a.createElement("div",{className:t.textSection},a?r.a.createElement(x.a,{variant:"h4",className:t.text},F," ",r.a.createElement(p.b,{to:"/blog-react/create"},M)):r.a.createElement(x.a,{variant:"h4",className:t.text},r.a.createElement(p.b,{to:"/blog-react/auth"},W),z)),r.a.createElement(h.b,{path:"/blog-react/auth"},r.a.createElement(D,null))))})),R=a(116),G=a(117),H=a(57),V=a.n(H),$=a(118),q="Tell us your story!",K=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],Q=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onTitleChange=function(e){a.setState({title:e.target.value})},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onPostAdd=function(){var e=new Date,t=K[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear();a.setState((function(e){return{posts:[].concat(Object(l.a)(e.posts),[{id:e.currentId,title:e.title,content:e.content,date:t,userId:e.currentUserId}]),currentId:e.currentId+1,title:"",content:""}}),(function(){localStorage.setItem("posts",JSON.stringify(a.state.posts)),a.props.handlePostAdd(a.state.posts),a.props.history.push("/blog-react/")}))};var n=JSON.parse(localStorage.getItem("posts"))||[],r=n.length>0?n[n.length-1].id+1:1;return a.state={title:"",content:"",posts:n,currentId:r,currentUserId:a.props.currentUserId},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.content,o=this.props.classes;return r.a.createElement("div",{className:o.createPostContainer},r.a.createElement("div",{className:o.createPostContent},r.a.createElement(R.a,{className:o.cardSection},r.a.createElement(G.a,null,r.a.createElement(x.a,{className:o.title,variant:"h6",gutterBottom:!0},q),r.a.createElement("div",null,r.a.createElement(P.a,{className:o.titleTextField,placeholder:"Write the title...",id:"standard-basic",label:"* Title",value:a,onChange:function(t){return e.onTitleChange(t)}})),r.a.createElement("div",{className:o.contentDiv},r.a.createElement(P.a,{className:o.contentTextField,placeholder:"Write the post...",id:"standard-multiline-static",label:"* Content",multiline:!0,rows:"10",value:n,onChange:function(t){return e.onContentChange(t)}})),r.a.createElement("div",{className:o.btnDiv},r.a.createElement($.a,{color:"primary",onClick:this.onPostAdd},r.a.createElement(V.a,null)))))))}}]),t}(r.a.Component),X=Object(h.g)(Object(f.a)({createPostContainer:{display:"flex",justifyContent:"center"},createPostContent:{width:"75%"},cardSection:{margin:"20px",boxShadow:"0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)"},title:{textAlign:"center"},titleTextField:{width:"75%"},contentDiv:{margin:"16px 0"},contentTextField:{width:"100%"},btnDiv:{display:"flex",justifyContent:"flex-end"}})(Q)),Z=a(2),_="Log out",ee="Are you sure you want to log out?",te="Log out",ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogOut=function(){var e=a.props,t=e.isLoggedIn,n=e.isCreatePostClicked,r=e.handleCreatePostClick;t(!1),n&&r(!1)},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.logoutContainer},r.a.createElement("div",{className:t.logoutContent},r.a.createElement("div",{className:t.logoutTitleSection},r.a.createElement(x.a,{variant:"h4",className:t.title},_)),r.a.createElement("div",{className:t.logoutText},r.a.createElement(x.a,{variant:"h6"},ee)),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return e.handleLogOut()}},te))))}}]),t}(r.a.Component),ne=Object(f.a)({logoutContainer:{display:"flex",justifyContent:"center"},logoutContent:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},logoutTitleSection:{margin:"20px 0"},title:{fontWeight:"bold"},logoutText:{margin:"16px 0"}})(ae);function re(e){var t=e.component,a=Object(Z.a)(e,["component"]),n=a.isLoggedIn,o=a.path,s=a.handleLogIn,l=a.handleLogOut,i=a.handleCreatePostClick,c=a.isCreatePostClicked,u=a.currentUserId,d=a.handlePostAdd;return"/blog-react/auth"===o?n?r.a.createElement(h.b,{path:o},r.a.createElement(ne,{isLoggedIn:l,isCreatePostClicked:c,handleCreatePostClick:i})):r.a.createElement(h.b,{path:o},r.a.createElement(D,{isLoggedIn:s,isCreatePostClicked:c,handleCreatePostClick:i})):n?r.a.createElement(h.b,{path:o},r.a.createElement(t,{currentUserId:u,handlePostAdd:d})):r.a.createElement(h.a,{to:{pathname:"/blog-react/auth"}})}var oe={postContainer:{display:"flex",justifyContent:"center"},cardSection:{width:"75%"},cardWrapper:{margin:"20px",padding:"20px",boxShadow:"0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12)"},CardContent:{padding:0},titleSection:{display:"flex",padding:"16px 24px"},avatarSection:{margin:"auto 16px auto 0"},avatar:{backgroundColor:a(39).a[500]},contentSection:{padding:"16px 24px"},CardActions:{justifyContent:"flex-end"},learnMoreLink:{textDecoration:"none"}},se=a(119),le=a(121);var ie=Object(f.a)(oe)((function(e){var t=e.classes,a=e.post,n=a.title,o=a.content,s=a.date,l=a.userId,i=a.id,c=JSON.parse(localStorage.getItem("users")).find((function(e){return e.id===l})),u=c.username[0].toUpperCase();return r.a.createElement("div",{className:t.postContainer},r.a.createElement("div",{className:t.cardSection},r.a.createElement(R.a,{className:t.cardWrapper},r.a.createElement(G.a,{className:t.CardContent},r.a.createElement("div",{className:t.titleSection},r.a.createElement("div",{className:t.avatarSection},r.a.createElement(le.a,{className:t.avatar},u)),r.a.createElement("div",null,r.a.createElement(x.a,{gutterBottom:!0},n),r.a.createElement(x.a,{variant:"subtitle2",color:"textSecondary"},s," by ",c.username))),r.a.createElement("div",{className:t.contentSection},r.a.createElement(x.a,null,o))),r.a.createElement(se.a,{className:t.CardActions},r.a.createElement(p.b,{to:"/blog-react/post/".concat(i),className:t.learnMoreLink},r.a.createElement(O.a,{size:"medium",color:"secondary"},"Learn More"))))))})),ce="Posts",ue=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(d.a)(this,Object(m.a)(t).call(this,e));var n=JSON.parse(localStorage.getItem("posts"))||[];return a.state={posts:n},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.posts.reverse(),t=this.props.classes;return r.a.createElement("div",{className:t.postsContainer},r.a.createElement("div",{className:t.titleSection},r.a.createElement(x.a,{className:t.title,variant:"h4"},ce)),r.a.createElement("div",{className:t.postSection},r.a.createElement("ul",{className:t.ul},e.map((function(e){return r.a.createElement(ie,{key:e.id,post:e})})))))}}]),t}(r.a.Component),de=Object(f.a)({postsContainer:{display:"flex",flexDirection:"column",alignItems:"center"},titleSection:{margin:"20px"},title:{fontWeight:"bold"},postSection:{width:"100%"},ul:{padding:0,margin:0}})(ue),me=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"POST DETAILS")}}]),t}(r.a.Component),ge=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleLogIn=function(e,t){var n=t.username,r=t.password,o=a.state.users.find((function(e){return e.username===n&&e.password===r}));o?a.setState((function(t){return{users:t.users.map((function(e){return e.id===o.id?Object(i.a)({},e,{isOnline:!0}):Object(i.a)({},e,{isOnline:!1})})),currentId:t.users[t.users.length-1].id+1,isLoggedIn:e,currentUserId:o.id}}),(function(){return localStorage.setItem("users",JSON.stringify(a.state.users))})):a.setState((function(t){return{users:[].concat(Object(l.a)(t.users),[{id:t.currentId,username:n,password:r,isOnline:!0}]),currentId:t.currentId+1,isLoggedIn:e,currentUserId:t.currentId}}),(function(){return localStorage.setItem("users",JSON.stringify(a.state.users))}))},a.handleLogOut=function(e){var t=a.state.users.map((function(e){return Object(i.a)({},e,{isOnline:!1})}));a.setState({users:t,isLoggedIn:e},(function(){return localStorage.setItem("users",JSON.stringify(a.state.users))}))},a.handleCreatePostClick=function(e){a.setState({isCreatePostClicked:e})},a.handlePostAdd=function(e){a.setState({posts:e})};var n=JSON.parse(localStorage.getItem("users"))||[],r=n.length>0?n[n.length-1].id+1:1,o=JSON.parse(localStorage.getItem("posts"))||[],s=n.some((function(e){return e.isOnline})),u=s?n.find((function(e){return e.isOnline})).id:"";return a.state={isLoggedIn:s,users:n,currentId:r,isCreatePostClicked:!1,currentUserId:u,posts:o},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,a=e.isCreatePostClicked,n=e.currentUserId,o=e.posts,s=this.props.classes;return r.a.createElement("div",{className:s.mainContainer},r.a.createElement(p.a,null,r.a.createElement(L,{isLoggedIn:t,handleCreatePostClick:this.handleCreatePostClick}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/blog-react/"},o.length>0?r.a.createElement(de,null):r.a.createElement(Y,{isLoggedIn:t})),r.a.createElement(re,{path:"/blog-react/create",isLoggedIn:t,component:X,currentUserId:n,handlePostAdd:this.handlePostAdd}),r.a.createElement(re,{path:"/blog-react/auth",isLoggedIn:t,isCreatePostClicked:a,handleLogIn:this.handleLogIn,handleLogOut:this.handleLogOut,handleCreatePostClick:this.handleCreatePostClick}),r.a.createElement(re,{path:"/blog-react/post/:id",isLoggedIn:t,component:me}))))}}]),t}(r.a.Component),pe=Object(f.a)({mainContainer:{backgroundColor:"#f9f9f9",minHeight:"100vh"}})(ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[66,1,2]]]);
//# sourceMappingURL=main.d634188c.chunk.js.map